{% extends "base.html" %}
{% block content %}
<h1>Личный кабинет</h1>

<div style="display: flex; gap: 20px; margin-bottom: 30px;">
  <!-- Аватар -->
  <div style="flex-shrink: 0;">
    <img src="{{ url_for('static', filename='avatar.svg') if not user.avatar else user.avatar }}" 
         alt="Аватар" 
         style="width: 120px; height: 120px; border-radius: 50%; object-fit: cover; border: 3px solid #2a3240;">
  </div>
  
  <!-- Информация о пользователе -->
  <div style="flex-grow: 1;">
    <h2 style="margin: 0 0 10px 0; color: #e6edf3;">
      {{ user.first_name or '' }} {{ user.last_name or '' }}
      {% if not user.first_name and not user.last_name %}
        {{ user.username }}
      {% endif %}
    </h2>
    <p style="margin: 5px 0; color: #9fb0c0;">
      <strong>Роль:</strong> {{ user.role }}
    </p>
    <p style="margin: 5px 0; color: #9fb0c0;">
      <strong>Email:</strong> {{ user.email or 'Не указан' }}
    </p>
    <p style="margin: 5px 0; color: #9fb0c0;">
      <strong>Телефон:</strong> {{ user.phone or 'Не указан' }}
    </p>
    <p style="margin: 5px 0; color: #9fb0c0;">
      <strong>Дата регистрации:</strong> {{ user.created_at }}
    </p>
  </div>
</div>

<!-- Кнопки действий -->
<div style="display: flex; gap: 10px; margin-bottom: 30px; flex-wrap: wrap;">
  <a href="{{ url_for('edit_profile') }}" class="btn primary">Редактировать профиль</a>
  <a href="{{ url_for('change_password') }}" class="btn">Изменить пароль</a>
  {% if user.role == 'admin' %}
  <a href="{{ url_for('admin_only') }}" class="btn">Админ-раздел</a>
  {% endif %}
  {% if user.role == 'company_hr' %}
  <a href="{{ url_for('hr_dashboard') }}" class="btn">Кабинет HR</a>
  {% endif %}
  {% if user.role == 'university_rep' %}
  <a href="{{ url_for('university_dashboard') }}" class="btn">Кабинет университета</a>
  {% endif %}
  {% if user.role == 'candidate' %}
  <a href="{{ url_for('catalog') }}" class="btn">Каталог вакансий</a>
  {% endif %}
</div>

<!-- Статистика (можно расширить в зависимости от роли) -->
<div style="background: #1a1f2e; padding: 20px; border-radius: 8px; border: 1px solid #2a3240;">
  <h3>Статистика</h3>
  <p style="color: #9fb0c0;">Здесь будет отображаться статистика в зависимости от вашей роли</p>
</div>
{% endblock %}