{% extends "index.html" %}
{% block content %}
<h1>{{ _('Personal Cabinet') }}</h1>

<div class="profile-header">
  <!-- Аватар -->
  <div>
    <img src="{{ url_for('static', filename='avatar.svg') if not user.avatar else user.avatar }}" 
         alt="Аватар" 
         class="profile-avatar">
  </div>
  
  <!-- Информация о пользователе -->
  <div class="profile-info">
    <h2>
      {{ user.first_name or '' }} {{ user.last_name or '' }}
      {% if not user.first_name and not user.last_name %}
        {{ user.username }}
      {% endif %}
    </h2>
    <p><strong>{{ _('Role') }}:</strong> {{ user.role }}</p>
    <p><strong>{{ _('Email') }}:</strong> {{ user.email or 'Не указан' }}</p>
    <p><strong>{{ _('Phone') }}:</strong> {{ user.phone or 'Не указан' }}</p>
    <p><strong>{{ _('Registration Date') }}:</strong> {{ user.created_at }}</p>
  </div>
</div>

<!-- Кнопки действий -->
<div class="d-flex gap-2 mb-4 flex-wrap">
  <a href="{{ url_for('edit_profile') }}" class="btn btn-primary">{{ _('Edit Profile') }}</a>
  <a href="{{ url_for('change_password') }}" class="btn btn-secondary">{{ _('Change Password') }}</a>
  {% if user.role == 'candidate' %}
  <a href="{{ url_for('request_role_change') }}" class="btn btn-warning">{{ _('Change Role') }}</a>
  {% endif %}
  {% if user.role == 'admin' %}
  <a href="{{ url_for('admin_only') }}" class="btn btn-secondary">{{ _('Admin Section') }}</a>
  {% endif %}
  {% if user.role == 'company_hr' %}
  <a href="{{ url_for('hr_dashboard') }}" class="btn btn-secondary">{{ _('HR Cabinet') }}</a>
  {% endif %}
  {% if user.role == 'university_rep' %}
  <a href="{{ url_for('university_dashboard') }}" class="btn btn-secondary">{{ _('University Cabinet') }}</a>
  {% endif %}
  {% if user.role == 'candidate' %}
  <a href="{{ url_for('catalog') }}" class="btn btn-secondary">{{ _('Job Catalog') }}</a>
  {% endif %}
</div>

<!-- Статистика -->
<div class="card">
  <h3>{{ _('Statistics') }}</h3>
  <p>Здесь будет отображаться статистика в зависимости от вашей роли</p>
</div>
{% endblock %}