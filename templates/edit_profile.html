{% extends "base.html" %}
{% block content %}
<h1>Редактирование профиля</h1>

<form method="post" enctype="multipart/form-data">
  <div style="display: flex; gap: 20px; margin-bottom: 30px;">
    <!-- Текущий аватар -->
    <div style="flex-shrink: 0;">
      <img src="{{ url_for('static', filename='avatar.svg') if not user.avatar else user.avatar }}" 
           alt="Текущий аватар" 
           style="width: 120px; height: 120px; border-radius: 50%; object-fit: cover; border: 3px solid #2a3240;">
    </div>
    
    <!-- Поля формы -->
    <div style="flex-grow: 1;">
      <div class="row">
        <div>
          <label for="first_name">Имя</label>
          <input id="first_name" name="first_name" value="{{ user.first_name or '' }}" />
        </div>
        <div>
          <label for="last_name">Фамилия</label>
          <input id="last_name" name="last_name" value="{{ user.last_name or '' }}" />
        </div>
      </div>
      
      <div class="row">
        <div>
          <label for="email">Email</label>
          <input id="email" name="email" type="email" value="{{ user.email or '' }}" />
        </div>
        <div>
          <label for="phone">Телефон</label>
          <input id="phone" name="phone" value="{{ user.phone or '' }}" />
        </div>
      </div>
      
      <div>
        <label for="avatar">Новый аватар</label>
        <input type="file" name="avatar" accept=".png,.jpg,.jpeg,.gif,.svg" />
        <small style="color: #9fb0c0; display: block; margin-top: 5px;">
          Допустимые форматы: PNG, JPG, JPEG, GIF, SVG (максимальный размер: 5 МБ)
        </small>
      </div>
    </div>
  </div>

  <div class="row">
    <button class="btn primary" type="submit">Сохранить изменения</button>
    <a class="btn" href="{{ url_for('dashboard') }}">Отмена</a>
  </div>
</form>
{% endblock %}
